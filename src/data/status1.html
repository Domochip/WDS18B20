<div id="applicationName" style="display: none;">WirelessDS18B20</div>
<div id="shortApplicationName" style="display: none;">WDS18B20</div>

<h2 class="content-subhead">OneWire<span id="l1"><h6 style="display:inline"><b> Loading...</b></h6></span></h2>
<div id="AllSensors"></div>
<h2 class="content-subhead">Home Automation<span id="l2"><h6 style="display:inline"><b> Loading...</b></h6></span></h2>
<span id="has1"></span><br>
<span id="has2"></span>

<script>
    //QuerySelector Prefix is added by load function to know into what element queySelector need to look for
    //var qsp = '#content1 ';

    getJSON("/gs"+qsp[8], 
        function(GS){
            for(k in GS){
                if(k=="at"){
                    var allTemp=GS[k];
                    for(romCode in allTemp){
                        $(qsp+'#AllSensors').innerHTML+=romCode+" : <a class='pure-button pure-button-primary' href='/getT?ROMCode="+romCode+"'>"+allTemp[romCode]+"Â°C</a><br>"
                    }
                }
                else{
                    if((e = $(qsp+'#' + k)) != undefined) e.innerHTML = GS[k];
                }
            }

            fadeOut($(qsp+'#l1'));
            fadeOut($(qsp+'#l2'));
        },
        function(){
            $(qsp+'#l1').innerHTML='<h4 style="display:inline;color:red;"><b> Failed</b></h4>';
            $(qsp+'#l2').innerHTML='<h4 style="display:inline;color:red;"><b> Failed</b></h4>';
        }
    );
</script>